import{d as y,a as f,b as S,o as a,e as u,c as _,w as m,f as v,F as P,B as k,h as $,C as z,s as V,g as C,i as h,T as w,D as L,E as B,k as d,G as A}from"./app-592255ea.js";import{_ as N}from"./AuroraPostCard.vue_vue_type_script_setup_true_lang-1f3b9c10.js";const T={class:"pagination"},x=C("div",{"i-ri-arrow-left-s-line":""},null,-1),D=C("div",{"i-ri-arrow-right-s-line":""},null,-1),E=y({__name:"ValaxyPagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(p,{emit:t}){const r=p,n=f(()=>Math.ceil(r.total/r.pageSize)),o=f(()=>r.curPage===1||r.curPage===n.value?3:2);function l(e){return e===1||e===n.value?!0:e>r.curPage-o.value&&e<r.curPage+o.value}function c(e){return t("pageChange",e),e===1?"/":`/page/${e}`}return(e,g)=>{const i=S("router-link");return a(),u("nav",T,[e.curPage!==1?(a(),_(i,{key:0,class:"page-number",to:c(e.curPage-1),"aria-label":"prev"},{default:m(()=>[x]),_:1},8,["to"])):v("v-if",!0),(a(!0),u(P,null,k(n.value,s=>(a(),u(P,null,[l(s)?(a(),_(i,{key:s,class:V(["page-number",e.curPage===s&&"active"]),to:c(s)},{default:m(()=>[$(z(s),1)]),_:2},1032,["class","to"])):s===e.curPage-o.value?(a(),u("span",{key:`prev-space-${s}`,class:"space",disabled:""}," ... ")):s===e.curPage+o.value?(a(),u("span",{key:`next-space-${s}`,class:"space",disabled:""}," ... ")):v("v-if",!0)],64))),256)),e.curPage!==n.value?(a(),_(i,{key:1,class:"page-number",to:c(e.curPage+1),"aria-label":"next"},{default:m(()=>[D]),_:1},8,["to"])):v("v-if",!0)])}}});const F={key:0,class:"post-list"},H=y({__name:"AuroraHomePostList",props:{posts:{}},setup(p){return(t,r)=>{const n=N;return t.posts?(a(),u("div",F,[(a(!0),u(P,null,k(t.posts,(o,l)=>(a(),_(w,{key:l,name:"fade"},{default:m(()=>[h(n,{post:o},null,8,["post"])]),_:2},1024))),128))])):v("v-if",!0)}}}),j={class:"home"},q=y({__name:"AuroraPage",props:{type:{},posts:{},curPage:{default:1}},setup(p){const t=p,r=L(),n=B(),o=f(()=>n.value.pageSize),l=d([]),c=d(),e=d([]);return A(()=>t.curPage,()=>{var g;l.value=(t.posts||r.postList).filter(i=>!i.hide),e.value=(g=l.value)==null?void 0:g.slice((t.curPage-1)*o.value,t.curPage*o.value),c.value=l.value.length},{immediate:!0}),(g,i)=>{const s=H,b=E;return a(),u("div",j,[h(s,{posts:e.value},null,8,["posts"]),h(b,{"cur-page":t.curPage,"page-size":o.value,total:c.value},null,8,["cur-page","page-size","total"])])}}});export{q as _};
